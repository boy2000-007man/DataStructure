这道题我使用range树,线段树套线段树完成,先是对x坐标排序,构成线段树,
这棵树的每个结点亦是一棵树,存储对应x区间上点,再按y排序,实现线段树.
空间复杂度如图所示:
        0(n)
       / \
      1   2(n/2 * 2 = n)
     / \ / \
     ... ...(n/4 * 4 = n)
一共有log(n)层,所以总共消耗O(n * log(n))的空间.预处理的复杂度亦是如图所示:
        0(n*log(n))
       / \
      1   2(n/2*log(n/2) * 2 = n*log(n/2))
     / \ / \
     ... ...(n/4*log(n/4) * 4 = n*log(n/4))
总共消耗n*(log(n)+log(n/2)+log(n/4)...)<n*log(n)*log(n),
即O(n*log(n)^2)的时间复杂度.
以后每次查询y区间上花log(n)的时间,至多查询log(n)个y区间,
即O(log(n)^2)的时间复杂度对一次查询.
总时间复杂度为O((m + n) * log(n) ^ 2),满足题目要求.
